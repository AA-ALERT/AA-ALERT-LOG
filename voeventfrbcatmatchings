The very first "seeing" of a FRB will be in a VOEvent XML without a <Citations>
Other "seeings"" related to the same FRB will reference the previous VOEvent using <Citations>
We assume a VOEvent for a FRB is created when at least it has been detected (and measured) by at least one instrument.
Hence, a VOEvent of FRB (be it the first one or others) must contain info for 1 entry
in tables frb, observations, radio_obs_params and radio_measured_params (and notes)
For frb, observations and radio_obs_params the same entry may already exist
in which case we do not need to add new ones and we just reuse the old ones
(this means the current VOEvent is not the first seeing)

Other issues:
- Shouldn't radio_images be referencing radio_measured_params?
- Need to check IVORNS for authors and for events
- We will need table for authors to fill extra info form voevent xml
- For frb is it enough to check name-utc for uniqueness
- for observation is enough telescope-utc for uniqueness
- for radio_obs_params which fields are good to check uniques?? it is the same as observation!
- for radio_measured_params we check uniques with ivorn (THIS COL NEEDS TO BE ADDED, and we also add a col with a copy of the XML)
- handling of correcctions/retractions: citations contain a attribute that is the cite (can be followup, supersedes or retraction). Depeding on the value we delete or update the DB.

--------------------------------------------------------------------------------
FRBCAT TABLE                 FRBCAT COLUMN             FRBCAT TYPE   VOEvent
--------------------------------------------------------------------------------
frbs                         id                        INT UNSIGNED  -------
frbs                         name                      VARCHAR       Why.Name or Why.Inference.Name (only if <Citations> is empty, i.e. it is a new FRB. If not, we ca check that Why.Name is the same as the first seeing)
frbs                         utc                       TIMESTAMP     WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Time.TimeInstant.ISOTime (check UTC and units) (only if <Citations> is empty, i.e. it is a new FRB)
frbs                         private                   TINYINT       What.Param (only if <Citations> is empty, i.e. it is a new FRB)
NEW                          authorivorn               IVORN

frbs_notes                   id                        INT UNSIGNED  -------
frbs_notes                   frb_id                    INT UNSIGNED  -------
frbs_notes                   last_modified             TIMESTAMP     Who.Date
frbs_notes                   author                    VARCHAR       Who.AUthorIVORN
frbs_notes                   note                      LONGTEXT      What.Param

observations                 id                        INT UNSIGNED  -------
observations                 frb_id                    INT UNSIGNED  -------
observations                 type                      TEXT          What.Param
observations                 telescope                 TEXT          WhereWhen.ObsDataLocation.ObservatoryLocation.id
observations                 utc                       TIMESTAMP     WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Time.TimeInstant.ISOTime (check UTC and units) (if there is already a "seeing" with the same UTC and telescope pair and related frb we check that rest of params also match)
observations                 data_link                 TEXT          What.Param
observations                 detected                  TINYINT       What.Param
NEW                          authorivorn               IVORN

observations_notes           id                        INT UNSIGNED  -------
observations_notes           observation_id            INT UNSIGNED  -------
observations_notes           last_modified             TIMESTAMP     Who.Date
observations_notes           author                    VARCHAR       Who.AuthorIVORN
observations_notes           note                      LONGTEXT      What.Param

radio_obs_params             id                        INT UNSIGNED  -------
radio_obs_params             obs_id                    INT UNSIGNED  -------
radio_obs_params             receiver                  TEXT          What.Group(Obs_Params).Param
radio_obs_params             backend                   TEXT          What.Group(Obs_Params).Param
radio_obs_params             beam                      VARCHAR       What.Group(Obs_Params).Param
radio_obs_params             raj                       VARCHAR       WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Position2D (transform to whatever we need)
radio_obs_params             decj                      VARCHAR       WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Position2D (transform to whatever we need)
radio_obs_params             gl                        FLOAT         WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Position2D (transform to whatever we need)
radio_obs_params             gb                        FLOAT         WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Position2D (transform to whatever we need)
radio_obs_params             pointing_error            FLOAT         WhereWhen.ObsDataLocation.ObservationLocation.AstroCoords.Position2D.Error2Radius
radio_obs_params             FWHM                      FLOAT         What.Group(Obs_Params).Param
radio_obs_params             sampling_time             FLOAT         What.Group(Obs_Params).Param
radio_obs_params             bandwidth                 FLOAT         What.Group(Obs_Params).Param
radio_obs_params             centre_frequency          FLOAT         What.Group(Obs_Params).Param
radio_obs_params             npol                      INT           What.Group(Obs_Params).Param
radio_obs_params             channel_bandwidth         FLOAT         What.Group(Obs_Params).Param
radio_obs_params             bits_per_sample           TINYINT       What.Group(Obs_Params).Param
radio_obs_params             gain                      FLOAT         What.Group(Obs_Params).Param
radio_obs_params             tsys                      FLOAT         What.Group(Obs_Params).Param
radio_obs_params             ne2001_dm_limit           FLOAT         What.Group(Obs_Params).Param
NEW                          authorivorn               IVORN

radio_obs_params_notes       id                        INT UNSIGNED  -------
radio_obs_params_notes       radio_obs_param_id        INT UNSIGNED  -------
radio_obs_params_notes       last_modified             TIMESTAMP     Who.Date
radio_obs_params_notes       author                    VARCHAR       Who.AuthorIVORN
radio_obs_params_notes       note                      LONGTEXT      What.Param or How

radio_measured_params        id                        INT UNSIGNED  -------
radio_measured_params        obs_params_id             INT UNSIGNED  -------
radio_measured_params        dm                        FLOAT         What.Group(Meas_Params).Param
radio_measured_params        dm_error                  FLOAT         What.Group(Meas_Params).Param
radio_measured_params        snr                       FLOAT         What.Group(Meas_Params).Param
radio_measured_params        width                     FLOAT         What.Group(Meas_Params).Param
radio_measured_params        width_error_upper         FLOAT         What.Group(Meas_Params).Param
radio_measured_params        width_error_lower         FLOAT         What.Group(Meas_Params).Param
radio_measured_params        flux                      FLOAT         What.Group(Meas_Params).Param
radio_measured_params        flux_prefix               VARCHAR       What.Group(Meas_Params).Param
radio_measured_params        flux_error_upper          FLOAT         What.Group(Meas_Params).Param
radio_measured_params        flux_error_lower          FLOAT         What.Group(Meas_Params).Param
radio_measured_params        flux_calibrated           TINYINT       What.Group(Meas_Params).Param
radio_measured_params        dm_index                  FLOAT         What.Group(Meas_Params).Param
radio_measured_params        dm_index_error            FLOAT         What.Group(Meas_Params).Param
radio_measured_params        scattering_index          FLOAT         What.Group(Meas_Params).Param
radio_measured_params        scattering_index_error    FLOAT         What.Group(Meas_Params).Param
radio_measured_params        scattering_time           FLOAT         What.Group(Meas_Params).Param
radio_measured_params        scattering_time_error     FLOAT         What.Group(Meas_Params).Param
radio_measured_params        linear_poln_frac          FLOAT         What.Group(Meas_Params).Param
radio_measured_params        linear_poln_frac_error    FLOAT         What.Group(Meas_Params).Param
radio_measured_params        circular_poln_frac        FLOAT         What.Group(Meas_Params).Param
radio_measured_params        circular_poln_frac_error  FLOAT         What.Group(Meas_Params).Param
radio_measured_params        spectral_index            FLOAT         What.Group(Meas_Params).Param
radio_measured_params        spectral_index_error      FLOAT         What.Group(Meas_Params).Param
radio_measured_params        z_phot                    FLOAT         What.Group(Meas_Params).Param
radio_measured_params        z_phot_error              FLOAT         What.Group(Meas_Params).Param
radio_measured_params        z_spec                    FLOAT         What.Group(Meas_Params).Param
radio_measured_params        z_spec_error              FLOAT         What.Group(Meas_Params).Param
radio_measured_params        rank                      INT           What.Group(Meas_Params).Param
NEW                          authorivorn               IVORN
NEW                          ivorn                                   .attr[ivorn]
NEW                          voeventxml                              Copy of the whole XML

radio_measured_params_notes  id                        INT UNSIGNED  -------
radio_measured_params_notes  radio_measured_param_id   INT UNSIGNED  -------
radio_measured_params_notes  last_modified             TIMESTAMP     Who.Date
radio_measured_params_notes  author                    VARCHAR       Who.AuthorIVORN
radio_measured_params_notes  note                      LONGTEXT      What.Param



radio_images                 id                        INT UNSIGNED  -------
radio_images                 radio_obs_params_id       INT UNSIGNED  -------
radio_images                 title                     TEXT          What.Group(image_name; type=image).Param
radio_images                 caption                   LONGTEXT      What.Group(image_name; type=image).Param
radio_images                 image                     LONGBLOB      What.Group(image_name; type=image).Reference (we need a server serving the images)

refs                         id                        INT UNSIGNED  -------
refs                         type                      TEXT          What.Group(reference_name; type=reference).Param
refs                         reference                 TEXT          What.Group(reference_name; type=reference)
refs                         link                      TEXT          What.Group(reference_name; type=reference).Reference
refs                         description               TEXT          What.Group(reference_name; type=reference).Param

original                     id                        INT UNSIGNED  -------
original                     name                      VARCHAR
original                     telescope                 VARCHAR
original                     utc                       VARCHAR
original                     beam                      VARCHAR
original                     raj                       VARCHAR
original                     decj                      VARCHAR
original                     gl                        FLOAT
original                     gb                        FLOAT
original                     sampling_time             FLOAT
original                     bandwidth                 FLOAT
original                     centre_frequency          FLOAT
original                     dm                        FLOAT
original                     dm_error                  FLOAT
original                     snr                       FLOAT
original                     snr_error                 FLOAT
original                     width                     FLOAT
original                     width_error_upper         FLOAT
original                     width_error_lower         FLOAT
original                     flux                      FLOAT
original                     flux_error_upper          FLOAT
original                     flux_error_lower          FLOAT
original                     reference_id              VARCHAR  -------
original                     public                    TINYINT
original                     freq_time_plot            VARCHAR
original                     polarization_plot         VARCHAR
original                     dm_galaxy                 FLOAT
original                     dist_comoving             FLOAT
original                     dist_comoving_error_upper FLOAT
original                     dist_comoving_error_lower FLOAT
